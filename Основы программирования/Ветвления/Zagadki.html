<meta charset="utf-8">
<Script type= "text/javascript">

/*Перед Вами игра Угадайка
Игра реализована на основе двух массивов.
В одном хранятся загадки, во втором ответы к ним.
Вы можете вписать любое количество загадок, но загадки обязательно должны иметь ответ.
*/
//===Приветствие при открытии программы ==========================================================================================
	
	alert(" Ты шёл по дороге и увидел перед собой мост через реку. Но как только ты приблизился к нему, твой путь перегородил огромный тролль. Он развёл руки в стороны и заговорил.");
 	alert(" - Здравствуй, путник. \n - Ты решил пройти по моему мосту? \n - Я позволю тебе это сделать, но не бесплатно. \n - Ты должен отгадать четыре моих загадки и, если сможешь, то я пропущу тебя, а если нет, то ты останешься тут со мной. \n - Приступим");

//=== Текст загадок с ответами ====================================================================================================

	var puzzle = [

	/*1я загадка*/["Три разноцветных круга\n Мигают друг за другом.\n Светятся, моргают –\n Людям помогают."], 
	/*2я загадка*/["Он программы пишет-пишет,\n За компьютером сидит,\n Все эмоции здесь лишни –\n Лишь исходный код твердит."],
	/*3я загадка*/["В брюшке — баня,\n В носу — решето,\n Нос — хоботок,\n На голове — пупок,\n Всего одна рука\n Без пальчиков,\n И та — на спине\n Калачиком."],
	/*4я загадка*/["Речка спятила с ума —\n По домам пошла сама."],

	];
	var unsver = [
	/*ответ на 1ю загадку*/["Светофор","светофор","Cdtnjajh","cdtnjajh"],
	/*ответ на 2ю загадку*/["Программист","программист","прогер","ghjuth","Ghjuhfvvbcn","ghjuhfvvbcn"],
	/*ответ на 3ю загадку*/["Чайник","чайник","Чайничек","чайничек","Заварник","заварник","Xfqybr","xfqybr"],
	/*ответ на 4ю загадку*/["Водопровод","водопровод","Кран","кран","Вода в кране","вода в кране","Djljghjdjl","djljghjdjl"],
	]

	//Ответы троля в зависимости от правильности решения
		var trollSayFalse = "Подумай ещё, может я все ещё дам тебе шанс пройти.";
		var trollSayTrue = "Хмм... Ну что ж, это был верный ответ. Продолжим.";

//==== Тело работы задачника ======================================================================================================
var trueAnsversCount = 0; //Счетчик правильных ответов
var numOfPazzles = Object.keys(puzzle).length; //Подсчитываем кол-во строк в массиве

for(i = 0; i<numOfPazzles; i++){ //Цикл запускающий ввод вопросов
	var userUnsver = prompt(puzzle[i][0])  //Введи ответ на i-тый вопрос 
	var numOfUnswers = unsver[i].length;	//Считаем количество столбцов (ответов) в текущей строке

		for(j = 0; j < numOfUnswers; j++){	//Проверка правильного ответа из массива ответов 
			var trueUnsver = unsver[i][j];	//Пробегаемпо всем ответам в массиве
			
			if(userUnsver == trueUnsver){   //Сравниваем есть ли совпадения с ответом из массива
				var chekTrue = trueUnsver;	//Если есть записывем ответ в отдельную переменную для выхода из цикла вопросов
				alert (trollSayTrue);		//Говорим что ты молодец и правильно ответил
				trueAnsversCount++;			//Считаем количество правильных ответов
				break;						//Если ответили правильно выходим из цикла при первом совпадении
			}
		}
			if (chekTrue != trueUnsver)		//Проверяем совпадает ли ответ с правильным ответом, если нет
			alert(trollSayFalse  + "\nА правильным ответом был : " + unsver[i][0]);			//Пишем что ответ не правильный и даем правильный ответ
}
//==== Ответы Тролля в зависимости от количества правильных ответов ===============================================================
	var trollKill = "- Прости друг, но Игра окончена и ты ответил всего лишь на " + trueAnsversCount + " загадок из " +numOfPazzles + " и ты не уйдёшь от меня. Хе-хе-хе!"
	var trollPath = "- Эх... Игра окончена. Так и быть, ты ответил на " + trueAnsversCount + " загадок из " +numOfPazzles + " и я пропущу тебя. \n Беги и не попадайся больше мне на глаза!"

if(trueAnsversCount <= numOfPazzles/2) //Если игрок ответил больше чем на половину загадок, то он пройдет, если нет, то он проиграл
	alert(trollKill)
else
	alert(trollPath)

</Script>